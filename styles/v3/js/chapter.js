/*!
 * Powered by uglifiyJS v2.6.1, Build by http://www.ossoft.cn
 * build time: Sat Jul 10 2021 22:39:47 GMT+0800 (China Standard Time)
*/
function thmoon(){document.getElementById("readbg").className="gd theme-moon active",BookUtils.setStorage("thmoon","1")}function clsize(t){15==t?document.getElementById("TextContent").className="read-content fz14":16==t?document.getElementById("TextContent").className="read-content fz16":17==t?document.getElementById("TextContent").className="read-content fz18":18==t?document.getElementById("TextContent").className="read-content fz20":19==t?document.getElementById("TextContent").className="read-content fz22":20==t&&(document.getElementById("TextContent").className="read-content fz24"),BookUtils.setStorage("fontsize",t)}function cltheme(t){t||(t=7),1==t?document.getElementById("readbg").className="hui":2==t?document.getElementById("readbg").className="ls":3==t?document.getElementById("readbg").className="fs":4==t?document.getElementById("readbg").className="nuan":5==t?document.getElementById("readbg").className="huang":6==t?document.getElementById("readbg").className="lan":7==t&&(document.getElementById("readbg").className="nuan"),BookUtils.setStorage("theme",t),BookUtils.removeStorage("thmoon")}function toggleOpt(t,e){var n=this;if(!t)return n;$.isFunction(e)&&(e={callback:e});var o={mode:"visible",container:$("body"),callback:function(){}},a=$.extend({},o,e||{});n.callback=a.callback,n.mode=a.mode,!t.size&&$.isArray(t)&&(t=t.join()),"string"==typeof t?a.container.on("click",t,function(t){toggleOptToggle($(this),t)}):t.length&&t.on("click",function(t){toggleOptToggle($(this),t)}),toggleOptAria(t)}function toggleOptAria(t){"visible"==this.mode&&"string"==typeof t&&$(t).each(function(){var t=$(this);t.attr({role:"menuitem","aria-expanded":t.hasClass("active")})})}function toggleOptToggle(t,e){var n,o=this,a=t;"visible"==o.mode?(a=$("#"+t.attr("data-rel")),(n=t.hasClass("active"))?(t.removeClass("active").attr("aria-expanded","false"),a.removeClass("active")):(t.addClass("active").attr("aria-expanded","true"),a.addClass("active"))):"more"==o.mode&&((n="string"==typeof t.attr("open"))?t.removeAttr("open"):t.attr("open",""))}$(function(){var t=BookUtils.getStorage("thmoon"),e=BookUtils.getStorage("fontsize"),n=BookUtils.getStorage("theme");n?cltheme(n):thmoon(),t&&thmoon(),void 0==e?(clsize(18),e=18):clsize(e),$(".set_font_inc").click(function(){19>=e&&""!=e?(e++,clsize(e)):clsize("20")}),$(".set_font_dec").click(function(){e>=16&&""!=e?(e--,clsize(e)):clsize("15")}),$(".set_theme").click(function(){6>=n?(n++,cltheme(n)):(n-=6,cltheme(n))}),$("#mode").click(function(){var t=document.getElementById("readbg").getAttribute("class");"gd theme-moon active"!==t?thmoon():cltheme(n)}),BookChapterUtils.init()}),"undefined"==typeof BookChapterUtils&&(BookChapterUtils={}),BookChapterUtils={params:{settingsJson:{dn:"d",fs:3,skin:0},catalog_cache:!1,settingsKey:"SET_CHAPTER"},init:function(){this.initModes(),this.initDayNightSetting(),this.initFontSizeSetting(),this.initAudio()},initModes:function(){var t=$("#readBtnMode"),e=BookUtils.getStorage("thmoon"),n=BookUtils.getStorage("theme");if(e)t.data("mode","night");else if(n){t.data("mode","day");var o=$('[data-index="'+n+'"]',"#readSetSkin");o.val();o.attr("checked","true")}var a=!0,i=$("#pageReadOpt");$(".mlfy_main").on("click",function(){a&&setTimeout(function(){i.toggleClass("active"),a=!0},100),a=!1})},initFontSizeSetting:function(){var t=$("#readBtnSet");toggleOpt(t)},initAudio:function(){var t=$("#audioOptMobile");t.on("click",function(){$("#audioOptSet").addClass("active")})},initDayNightSetting:function(){var t=$("#readBtnMode"),e=t.find("h4");t.on("click",function(){var n=t.data("mode");"day"===n?(cltheme(4),e.html(e.html().replace("\u65e5","\u591c")),e.html(e.html().replace("Day","Night")),t.find(".icon-day").hide(),t.find(".icon-night").show(),t.data("mode","night")):(thmoon(),e.html(e.html().replace("\u591c","\u65e5")),e.html(e.html().replace("Night","Day")),t.data("mode","day"),t.find(".icon-day").show(),t.find(".icon-night").hide())}),t.trigger("click")}};